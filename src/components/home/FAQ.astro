---
import Container from '../layout/Container.astro';
import Section from '../layout/Section.astro';

interface Props {
  locale: 'en' | 'es';
}

const { locale } = Astro.props;

const content = {
  en: {
    title: 'Common Questions',
    viewAll: 'View All FAQs',
    viewAllHref: '/faq',
    faqs: [
      {
        question: 'How much does this cost? Is it SMB-affordable?',
        answer: 'Discovery Sprints typically start in the low four figures. Full builds are fixed-scope and quoted after discovery. Designed for SMBs, not enterprise budgets. You\'ll know the cost before I start.',
      },
      {
        question: 'How long does implementation take?',
        answer: 'Most projects deliver in 2-6 weeks depending on scope. You don\'t need engineers—just a point of contact to coordinate. I handle the build, integration, testing, and handoff.',
      },
      {
        question: 'What if the AI gives wrong answers?',
        answer: 'I build with validation and source attribution. Every answer is grounded in your approved knowledge sources, and the system hands off to a human when uncertain. No hallucinations—just tested, production-grade systems.',
      },
      {
        question: 'How do you handle data security?',
        answer: 'Privacy-aware design with least-privilege access controls, audit logs, and clear data boundaries. Your internal documents stay private. I follow enterprise IT discipline from 17+ years of Fortune 500 experience.',
      },
      {
        question: 'Do you work with companies in Mexico?',
        answer: 'Yes. I\'m fully bilingual (English/Spanish) and serve clients in both the US and Mexico. Your customers get professional support in both languages.',
      },
    ],
  },
  es: {
    title: 'Preguntas Frecuentes',
    viewAll: 'Ver Todas las Preguntas',
    viewAllHref: '/es/faq',
    faqs: [
      {
        question: '¿Cuánto cuesta? ¿Es accesible para PyMEs?',
        answer: 'Los Sprints de Descubrimiento típicamente empiezan en miles de dólares. Las construcciones completas son de alcance fijo y se cotizan después del descubrimiento. Diseñado para PyMEs, no presupuestos empresariales. Sabrás el costo antes de empezar.',
      },
      {
        question: '¿Cuánto tiempo toma la implementación?',
        answer: 'La mayoría de los proyectos se entregan en 2-6 semanas dependiendo del alcance. No necesitas ingenieros—solo un punto de contacto para coordinar. Yo manejo la construcción, integración, pruebas y entrega.',
      },
      {
        question: '¿Qué pasa si la IA da respuestas incorrectas?',
        answer: 'Construyo con validación y atribución de fuentes. Cada respuesta está basada en tus fuentes de conocimiento aprobadas, y el sistema transfiere a un humano cuando hay incertidumbre. Sin alucinaciones—solo sistemas probados y de grado de producción.',
      },
      {
        question: '¿Cómo manejas la seguridad de datos?',
        answer: 'Diseño consciente de la privacidad con controles de acceso de mínimo privilegio, registros de auditoría y límites claros de datos. Tus documentos internos permanecen privados. Sigo disciplina de TI empresarial de más de 17 años de experiencia en Fortune 500.',
      },
      {
        question: '¿Trabajas con empresas en México?',
        answer: 'Sí. Soy totalmente bilingüe (inglés/español) y sirvo a clientes tanto en EE.UU. como en México. Tus clientes reciben soporte profesional en ambos idiomas.',
      },
    ],
  },
};

const t = content[locale];
---

<Section spacing="lg" class="bg-white dark:bg-gray-950">
  <Container size="md">
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-display font-bold text-gray-900 dark:text-white">
        {t.title}
      </h2>
    </div>

    <div class="space-y-4">
      {t.faqs.map((faq, index) => (
        <details class="group border border-gray-200 dark:border-gray-800 rounded-xl overflow-hidden">
          <summary class="flex items-center justify-between p-6 cursor-pointer bg-white dark:bg-gray-900 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors">
            <h3 class="text-lg font-display font-semibold text-gray-900 dark:text-white pr-4">
              {faq.question}
            </h3>
            <svg
              class="w-5 h-5 text-gray-500 transform transition-transform group-open:rotate-180 flex-shrink-0"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
          </summary>
          <div class="px-6 pb-6 pt-2 bg-white dark:bg-gray-900">
            <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
              {faq.answer}
            </p>
          </div>
        </details>
      ))}
    </div>

    <!-- View All Link -->
    <div class="text-center mt-8">
      <a
        href={t.viewAllHref}
        class="inline-flex items-center gap-2 text-cush-orange font-medium hover:underline"
      >
        {t.viewAll}
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </Container>
</Section>
